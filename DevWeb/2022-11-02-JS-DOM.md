> <span style="font-size: 1.5em">üìñ</span> <span style="color: orange; font-size: 1.3em;">Pr√©sentation [JavaScript & DOM](https://he-arc.github.io/slides-devweb/05-JSandDOM.html)</span>

JS :
- Front-End / Interactivit√© du site
- Back-end : NodeJS (moteur d'execution de JS)
- Application Desktop :
  - Electron : Navigateur limit√© qui permet d'ex√©cuter une WebApp
- Embarqu√© : Espruino
- Robotique : Node Bots; CylonJS

DOM : Document Object Model
- Strat√©gie pour pars√© du XML
- Strat√©gie utilis√©e par les navigateurs pour pars√© du HTML

On peut r√©cup√©rer des √©l√©ments du DOM avec JS

Bookmarklets : fait d'ajouter dans les favoris un bout de code JS, qui peut int√©ragir avec le DOM de la page courante


Gestionnaire de d√©pendances JS : `npm` (Node Package Manager)


Interfaces pour scripter le navigateur
- Requ√™tes HTTP : Fetch API, Xml HTTP Request
  - De nos jour, on utilise plus directement XHR, mais Fetch avec des `promises`, qui font appel √† XHR


# Caract√©ristiques de JS
![](Screen/2022-11-02-13-31-55.png)
<span style="color: red">Utiliser `const` et `let`</span> <span style="color: #46b7ae; font-style: italic; font-size: 0.85rem">// et non pas `var`</span> 

POP : **Programmation Orient√©e Prototype**
- quand on modifie une propri√©t√© d'un objet, en r√©alit√© on cr√©√© un nouvel objet se basant les propri√©t√©s de l'ancien

**Femetures**
possibilit√© d'acc√©der √† des variables en dehors de leur port√©e

**Promesse**
M√©canisme pour faire de la programmation asynchrone

# JS dans HTML

![](Screen/2022-11-02-13-44-14.png)

Il est conseill√© de d√©coupl√© le JS du HTML (fichiers s√©par√©s, utilisation du DOM pour li√© les √©l√©ments)

Conseill√© de mettre le JS dans la balise `<script>` √† la fin du fichier HTML
- `<script type="text/javascript" src="script.js"></script>`
- Car le contenu JS est execut√© dans l'ordre o√π il est √©crit dans le fichier HTML, et comme JS est utilis√© pour manipuler le DOM, il pourrait √™tre charger avant la fin du chargement de l'HTML

# Unobtrusive JS

Principe de rendre le JS comme un "utilitaire" pour le site, et non poser des contraintes sur le site

En fait partie la s√©paration du JS du HTML

![](Screen/2022-11-02-13-45-46.png)

D√©gradation √©l√©gante/accessibilit√© : si le JS est d√©sactiv√©, le site doit quand m√™me √™tre utilisable.
- Exemple s'il y a de l'AJAX pour update, mais qu'il ne fonctionne pas, le site devrais proposer un **`fallback`** (alternative), comme recharger compl√®tement la page


# Objets JS
2 objets principaux : `window` et `document`
- `window` : contient les informations de l'onglet
- `document` : contient l'ensemble de la page charg√©e

## DOM
![](Screen/2022-11-02-13-57-26.png)
Les √©l√©ments d'une balise sont stock√©s dans des noeuds enfants, si c'est du texte, le noeud sera de type texte